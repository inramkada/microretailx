html, body {
      margin: 0;
      padding: 0;
      background: #000;
      overflow: hidden;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    canvas { display: block; }

    canvas { transition: filter 1.2s ease-in-out, opacity 1.2s ease-in-out; }
    body.consent-locked canvas { filter: grayscale(1) brightness(0.72) contrast(1.08); opacity: 0.85; }
    body.consent-waking canvas { filter: grayscale(0) brightness(1) contrast(1); opacity: 1; }

    .ui-layer { position: absolute; z-index: 10; color: #fff; user-select: none; }
    .top-bar {
      top: 0; right: 0; width: 100%;
      background: rgba(0,0,0,0.92);
      display: flex; justify-content: flex-end;
      padding: 12px 26px; box-sizing: border-box;
    }
    .menu { position: relative; }

    .menu-dot {
      width: 15px; height: 15px; border-radius: 50%;
      background: #fff; cursor: pointer; position: relative;
      opacity: 0.85; outline: none;
      transition: transform .25s ease, background .25s ease, box-shadow .25s ease, opacity .25s ease;
      transform: scale(1) rotate(0deg);
    }
    .menu-dot:focus-visible {
      box-shadow: 0 0 0 2px rgba(0,234,255,0.65), 0 0 14px rgba(0,234,255,0.35);
      opacity: 1;
    }
    @keyframes redPulse { 0%{box-shadow:0 0 4px #ff3333,0 0 8px #ff3333;} 100%{box-shadow:0 0 10px #ff3333,0 0 18px #ff3333;} }
    .menu-dot:hover:not(.active) { background:#ff3333; opacity:1; animation:redPulse .9s ease-in-out infinite alternate; }

    .menu-dot::before, .menu-dot::after {
      content:""; position:absolute; top:50%; left:50%;
      width:2px; height:14px; background:#00eaff;
      transform-origin:center; opacity:0; transition: opacity .25s ease;
    }
    .menu-dot::before { transform: translate(-50%,-50%) rotate(45deg); }
    .menu-dot::after  { transform: translate(-50%,-50%) rotate(-45deg); }

    @keyframes xPulseDual {
      0%{background:#00eaff; box-shadow:0 0 6px #00eaff,0 0 14px #00eaff;}
      50%{background:#ff0033; box-shadow:0 0 8px #ff0033,0 0 20px #ff0033;}
      100%{background:#00eaff; box-shadow:0 0 6px #00eaff,0 0 14px #00eaff;}
    }
    .menu-dot.active { background:transparent; box-shadow:none; opacity:1; transform:scale(1.1); }
    .menu-dot.active::before, .menu-dot.active::after { opacity:1; animation:xPulseDual 1.4s ease-in-out infinite; }

    @keyframes xShake {
      0%{transform:scale(1.1) translateX(0);}
      25%{transform:scale(1.1) translateX(-1.5px);}
      50%{transform:scale(1.1) translateX(1.5px);}
      75%{transform:scale(1.1) translateX(-1.5px);}
      100%{transform:scale(1.1) translateX(0);}
    }
    .menu-dot.active.shake { animation: xShake .22s ease-in-out; }
    .menu-dot.active.double::before, .menu-dot.active.double::after {
      box-shadow:0 0 6px #00eaff,0 0 14px #00eaff,0 0 22px rgba(255,0,80,.95);
    }

    .menu-dropdown {
      position:absolute; top:160%; right:0;
      min-width:190px; border-radius:6px; overflow:hidden;
      max-height:0; opacity:0;
      background: rgba(0,10,20,.55);
      border: 1px solid rgba(0,234,255,.33);
      backdrop-filter: blur(10px);
      box-shadow: 0 0 14px rgba(0,234,255,.27);
      transition: max-height .34s ease, opacity .25s ease;
    }
    .menu-dropdown.open { max-height:420px; opacity:1; }
    .menu-dropdown a {
      display:block; padding:10px 14px;
      font-size:15px; color:#b8faff; text-decoration:none; letter-spacing:1px;
      position:relative; cursor:pointer;
    }
    .menu-dropdown a:hover { background: rgba(0,40,60,.65); color:#fff; }
    .menu-dropdown a.locations-link { padding-left:28px; }
    .menu-dropdown a.locations-link::after {
      content:"◂"; position:absolute; left:10px; top:50%;
      transform: translateY(-50%); font-size:12px; color:#8ff3ff;
    }

    .menu-dropdown-sub {
      position:absolute; top:0; right:100%; margin-right:14px;
      min-width:220px; border-radius:6px; overflow:hidden;
      max-height:0; opacity:0;
      background: rgba(0,8,18,.95);
      border: 1px solid rgba(0,234,255,.47);
      border-left:2px solid rgba(0,234,255,.5);
      backdrop-filter: blur(12px);
      box-shadow: 0 0 22px rgba(0,234,255,.4);
      transition: max-height .3s ease, opacity .24s ease;
      padding:8px 0;
      pointer-events:none;
      z-index:30;
    }
    .menu-dropdown-sub.open { max-height:500px; opacity:1; pointer-events:auto; }
    .submenu-group { padding:4px 18px 6px 16px; }
    .submenu-label { font-size:11px; letter-spacing:1px; color:#7fd8ff; opacity:.8; margin-bottom:2px; }
    .submenu-link { display:block; font-size:13px; padding:3px 0; color:#e8ffff; text-decoration:none; }
    .submenu-link:hover { color:#fff; text-shadow:0 0 6px #00eaff; }

    .footer-bar{
      bottom:0; left:0; width:100%;
      background: rgba(0,0,0,.92);
      display:flex; flex-direction:column; align-items:center;
      padding:10px 0 8px; box-sizing:border-box;
      pointer-events:none;
    }
    .footer-links{ font-size:15px; pointer-events:auto; margin-bottom:6px; }
    .footer-links a{ color:#fff; text-decoration:none; margin:0 12px; opacity:.85; cursor:pointer; }
    .footer-links a:hover{ opacity:1; text-decoration:underline; }
    .copyright{
      font-size:9px; letter-spacing:1px; opacity:.45;
      pointer-events:auto; text-align:center; padding:0 14px; line-height:1.35;
    }

    @media (max-width: 600px){
      .menu-dot{ width:12px; height:12px; }
      .menu-dropdown a{ font-size:13px; }
      .footer-links{ font-size:13px; }
      .copyright{ font-size:8px; }
      .menu-dropdown-sub{ min-width:190px; margin-right:10px; }

      .menu-dot.active { background:transparent; box-shadow:none; opacity:1; transform:scale(1.1); }
      .menu-dot::before, .menu-dot::after{ height:12px; } /* keep proportions when dot shrinks */
      .menu-dot.active::before, .menu-dot.active::after{ opacity:1; animation:xPulseDual 1.4s ease-in-out infinite; }
      .menu-dot.active.shake{ animation:none !important; }
      .menu-dot.active.double::before, .menu-dot.active.double::after{ box-shadow:none !important; }

      .footer-links{
        text-align:center;
        padding:0 12px;
        line-height:1.9;
        margin-bottom:6px;
      }
      .footer-links a{
        display:inline-block;
        margin:4px 10px;
      }

    }

    @media (prefers-reduced-motion: reduce){
      canvas{ transition:none !important; }
      body.consent-locked .consent-banner.open{ animation:none !important; }
      .menu-dot, .menu-dot::before, .menu-dot::after{ transition:none !important; animation:none !important; }
    }

    .consent-banner{
      position:fixed; left:0; right:0; bottom:0;
      z-index:9999;
      background: rgba(0,0,0,.92);
      border-top:1px solid rgba(255,255,255,.15);
      box-shadow: 0 -10px 34px rgba(0,0,0,.65);
      backdrop-filter: blur(10px);
      padding:14px 18px; box-sizing:border-box;
      display:none;
    }
    .consent-banner.open{ display:block; }

    .consent-row{ display:flex; gap:14px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .consent-text{ color:#e8ffff; opacity:.92; font-size:13px; line-height:1.4; max-width:860px; }
    .consent-text a{ color:#fff; text-decoration:none; opacity:.95; text-shadow:0 0 10px rgba(255,255,255,.35); }
    .consent-text a:hover{ text-decoration:underline; opacity:1; }

    .consent-actions{ display:flex; gap:10px; flex-wrap:wrap; }
    .consent-btn{
      appearance:none;
      border:1px solid rgba(255,255,255,.22);
      background: rgba(255,255,255,.06);
      color:#fff;
      padding:9px 12px; border-radius:10px;
      cursor:pointer;
      font-family: inherit;
      letter-spacing:.5px; font-size:12px;
      opacity:.95;
    }
    .consent-btn:hover{ opacity:1; box-shadow:0 0 18px rgba(255,255,255,.12); }
    .consent-btn.primary{
      border-color: rgba(255,255,255,.42);
      background: rgba(255,255,255,.12);
      box-shadow:0 0 22px rgba(255,255,255,.18);
    }

    .consent-modal-backdrop{
      position:fixed; inset:0; z-index:10000;
      background: rgba(0,0,0,.74);
      display:none;
      align-items:center; justify-content:center;
      padding:18px; box-sizing:border-box;
    }
    .consent-modal-backdrop.open{ display:flex; }

    .consent-modal{
      width:min(720px,100%);
      border-radius:16px;
      background: rgba(0,8,18,.94);
      border:1px solid rgba(255,255,255,.22);
      box-shadow: 0 0 40px rgba(255,255,255,.10);
      backdrop-filter: blur(14px);
      overflow:hidden;
    }
    .consent-modal-header{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 16px;
      border-bottom:1px solid rgba(255,255,255,.12);
    }
    .consent-modal-title{ font-size:13px; letter-spacing:1px; color:#fff; opacity:.95; }
    .consent-modal-close{
      width:30px; height:30px; border-radius:10px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      color:#fff; cursor:pointer; font-family: inherit; font-size:14px; opacity:.9;
    }
    .consent-modal-close:hover{ opacity:1; }
    .consent-modal-body{
      padding:14px 16px 8px;
      color:#e8ffff; font-size:13px; line-height:1.45; opacity:.93;
    }
    .consent-cats{ display:grid; gap:10px; margin-top:10px; }
    .consent-cat{
      display:flex; gap:12px; align-items:flex-start; justify-content:space-between;
      padding:10px 12px;
      border:1px solid rgba(255,255,255,.10);
      border-radius:14px;
      background: rgba(255,255,255,.03);
    }
    .consent-cat strong{ display:block; font-size:12px; letter-spacing:.7px; color:#fff; opacity:.95; margin-bottom:4px; }
    .consent-cat p{ margin:0; font-size:12px; opacity:.86; max-width:520px; }

    .toggle{
      position:relative; width:44px; height:24px; flex:0 0 auto;
      border-radius:24px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.07);
      cursor:pointer; margin-top:2px;
    }
    .toggle::after{
      content:""; position:absolute; top:2px; left:2px;
      width:18px; height:18px; border-radius:50%;
      background: rgba(255,255,255,.92);
      transition: transform .18s ease;
    }
    .toggle.on{
      border-color: rgba(255,255,255,.35);
      background: rgba(255,255,255,.14);
      box-shadow:0 0 18px rgba(255,255,255,.10);
    }
    .toggle.on::after{ transform: translateX(20px); }
    .toggle.locked{ opacity:.6; cursor:not-allowed; }

    .consent-modal-footer{
      display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap;
      padding:12px 16px 14px;
      border-top:1px solid rgba(255,255,255,.12);
    }

    body.consent-locked .ui-layer{ pointer-events:none !important; }
    body.consent-locked #consentBanner,
    body.consent-locked #consentModalBackdrop{ pointer-events:auto !important; }

    body.consent-locked .consent-banner{
      left:50%; right:auto; bottom:auto; top:50%;
      transform: translate(-50%,-50%);
      width: min(920px, calc(100% - 36px));
      border-radius:18px;
      border:1px solid rgba(255,255,255,.24);
      box-shadow: 0 0 40px rgba(255,255,255,.10), 0 0 100px rgba(255,255,255,.04);
    }
    @keyframes execPulse {
      0%{ box-shadow: 0 0 38px rgba(255,255,255,.08), 0 0 90px rgba(255,255,255,.03); }
      100%{ box-shadow: 0 0 46px rgba(255,255,255,.14), 0 0 120px rgba(255,255,255,.05); }
    }
    body.consent-locked .consent-banner.open{ animation: execPulse 1.2s ease-in-out infinite alternate; }
  
    .footer-links{
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      align-items:center;
      gap:0;
      text-align:center;
      padding:0 16px;
      line-height:1.9;
    }
    .footer-links a{
      display:inline-block;
      margin:4px 0;
      padding:0 10px;
      position:relative;
    }
    .footer-links a:not(:last-child)::after{
      content:"·";
      position:absolute;
      right:-2px;
      top:50%;
      transform:translateY(-52%);
      opacity:.38;
    }

    @media (max-width: 600px){
      .footer-links{ padding:0 12px; }
      .footer-links a{ padding:0 10px; }
      .footer-links a:not(:last-child)::after{ right:-3px; }
    }
